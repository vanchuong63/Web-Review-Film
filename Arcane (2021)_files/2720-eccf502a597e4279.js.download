"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2720],{62720:function(e,t,i){let a,r;i.r(t),i.d(t,{__N_SSP:function(){return ex},default:function(){return ek}});var s,o,n=i(52322),l=i(66898),d=i(11778),E=i(70314),c=i.n(E),I=i(2784),u=i(25436),T=i(12859),g=i(83128),p=i(83827),m=i(16189);let h=(0,m.createLogger)()("util_fetchAdServiceAd"),A=async e=>{try{return await (0,p.db)(e)}catch(e){return h.error("makeAdServiceAdAJAXRequest failed",e),null}};var S=i(66617),f=i(33192),R=i(14865),b=i(45103),w=i(56812),y=i(77594),D=i(56963),M=i(81988),L=i(17138),_=i(17337),O=i(25321),v=i(28827),N=i(85767),C=i(11793),P=i(52817),H=i(83092),$=i(51442),x=i(72779),k=i.n(x),B=i(73282),G=i(72814),W=i(88173),j=i(11817);let U={NO_ELEMENT:"advertising banner/interstitial component or iframe are undefined",NO_IFRAME_CONTENT:"banner or interstitial was clicked on, but no contentDocument was found in iframe",NO_CLICK_TARGET:"banner or interstitial was clicked on, but no clickable element was found in iframe"},F=(0,m.createLogger)()("");function V(e,t,i){let a=t?.querySelector("iframe");if(!a){F.error(U.NO_ELEMENT);return}let r=a.contentDocument;if(!r||!r.elementFromPoint){F.error(U.NO_IFRAME_CONTENT);return}let{left:s,top:o}=a.getBoundingClientRect(),n=r.elementFromPoint(e.clientX-s,e.clientY-o);if(n){n.dispatchEvent(new MouseEvent(e.type,{bubbles:!0,cancelable:!0})),(0,j.P)(i);return}let l=t?.querySelector("#interstitial_sponsored");if(l){let{left:t,top:a,width:r,height:s}=l.getBoundingClientRect(),o=e.clientX-t,n=e.clientY-a;if(o>0&&o<=r&&n>0&&n<=s){l.dispatchEvent(new MouseEvent(e.type,{bubbles:!0,cancelable:!0})),(0,j.P)(i);return}}F.error(U.NO_CLICK_TARGET)}var Y=i(42057);let K=e=>{let{galleryUrl:t}=e,i=(0,v.N)({id:"mediaViewer_ariaLabel_gallery",defaultMessage:"gallery"});return(0,n.jsx)(b.IconButton,{"data-testid":"mv-gallery-button",name:"grid-view",label:i,href:t,onColor:"base"})},Z=e=>{let{state:t,className:i,imagePosition:a}=e,{makeRefMarker:r,value:s}=(0,G.Lz)(),o={countLabel:(0,v.N)(W.KL.countLabel,{position:a,total:t.totalImages})},l=(0,I.useRef)(null);return(0,n.jsx)(B.ol,{className:k()(W.$C.ACTION_BAR,T.$,i),shareProps:{shareBody:z,emailSubject:z,label:q},breadcrumbProps:{refTagPrefix:s,"data-testid":"mv-breadcrumb-close-button"},actions:(0,n.jsxs)(n.Fragment,{children:[!t.showInterstitial&&!!t.position&&t.totalImages&&(0,n.jsx)(Y.vI,{"data-testid":W.$C.ACTION_BAR_GALLERY_COUNT,children:o.countLabel}),(0,n.jsx)(K,{galleryUrl:s?`${t.galleryUrl}?ref_=${r(G.Cd.SEE_MORE)}`:t.galleryUrl??""})]}),heightClass:"extended",children:!t.showInterstitial&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(O.ZP,{name:T.A.MEDIAVIEWER_BANNER}),(0,n.jsx)(Y.Ov,{ref:l,onClick:e=>{V(e,l.current,"ad-banner")}})]})})},q={id:"mediaViewer_ariaLabel_shareOnSocialMedia",defaultMessage:"share on social media"},z={id:"mediaViewer_shareText_viewThisImage",defaultMessage:"View this image on IMDb!"},X=1e3/60;function J(){clearTimeout(a),a=void 0}function Q(e){return e>0?Math.min(450,e):e<0?Math.max(-450,e):0}function ee(e,t,i){30>Math.abs(e)?(t(0),J()):(i(),t(Q(-e)),J(),setTimeout(()=>t(0),X))}var et=i(67353),ei=i(5632),ea=i(18174),er=i.n(ea),es=i(26806),eo=i(62298),en=i(66662),el=i(27261),ed=i(98046),eE=i(87712),ec=i(19126),eI=i.n(ec);let eu=(e,t)=>{let i=e?eI().parse(window.location.search.replace("?","")):{};return t||delete i.ref_,eI().stringify(i)};var eT=i(72579),eg=i.n(eT),ep=i(33274);let em=(e,t)=>{switch(e){case eE.b.NAME:return eg()(t,`${e}.${e}Text.text`,"");case eE.b.TITLE:let i=eg()(t,`${e}.${e}Text.text`,""),a=eg()(t,`${e}.releaseYear.year`,"");return a?`${i} (${a})`:i;case eE.b.GALLERY:return eg()(t,"imageGallery.galleryText","");case eE.b.LIST:return eg()(t,`${e}.name.originalText`,"")}},eh=(e,t,i,a,r,s)=>e===eE.b.NAME?i({nconst:t,refSuffix:G.Cd.EMPTY}):e===eE.b.TITLE?a({tconst:t,refSuffix:G.Cd.EMPTY}):e===eE.b.GALLERY?r({rgconst:t,refSuffix:G.Cd.EMPTY}):s({lsconst:t,refSuffix:G.Cd.EMPTY}),eA=(e,t)=>{let i=[];return t.forEach(t=>{let a=e===eE.b.LIST?{...t,node:{...t.node.item,caption:t.node.description?.originalText||t.node.item.caption}}:{...t};i.push(a)}),i},eS=(e,t,i,a)=>{let r=W.Qn[e],s=e===eE.b.LIST?"items":"images",o=`${r}.${s}`,n=`${r}.wrapFront`,l=`${r}.wrapBack`,d=(0,ep.Hu)(a),E=(0,ep.Ay)(a),c=(0,ep.pI)(a),I=(0,ep.xN)(a),u=a=>({images:eA(e,eg()(i,`${a}.edges`,[])),title:em(e,i),galleryUrl:eh(e,t,d,E,c,I),total:eg()(i,`${a}.total`,0),startCursor:eg()(i,`${a}.pageInfo.startCursor`,""),hasPreviousPage:eg()(i,`${a}.pageInfo.hasPreviousPage`,!1),endCursor:eg()(i,`${a}.pageInfo.endCursor`,""),hasNextPage:eg()(i,`${a}.pageInfo.hasNextPage`,!1)}),T=u(o),g=u(n),p=u(l),m=T.total?T:g.total?g:p;return{images:[...T.images,...g.images,...p.images],title:m.title,galleryUrl:m.galleryUrl,total:m.total,startCursor:m.startCursor,hasPreviousPage:m.hasPreviousPage,endCursor:m.endCursor,hasNextPage:T.hasNextPage}},ef=(e,t,i,a,r,s)=>{let o=[],n={main:void 0};switch(e){case"init":n.main={id:t,jumpTo:r,first:W.kH,last:W.kH/2,lastYes:!0,firstYes:!0};break;case"left":o=[...Array(W.kH).keys()].map(e=>{let t=i-e;return t<=0?null:t}),n.main={id:t,before:a,last:W.kH,lastYes:!0,firstYes:!1};break;case"right":o=[...Array(W.kH).keys()].map(e=>{let t=i+e;return t>s?null:t}),n.main={id:t,after:a,first:W.kH,lastYes:!1,firstYes:!0}}return o=o.filter(e=>null!==e),"init"!==e&&o.length<1&&(n.main=void 0),{fetchPositions:o,args:n}},eR=(e,t,i)=>{let a,r;let s=e.position||0,o=e.media&&e.media[s],n=o?.node.id,l=(0,$.Fs)(i);return n&&(a=e.vanitySubType&&e.vanityType?`${l}/[${W.Ek}]/[vanityOrId]/[idWithVanity]/mediaviewer/[img]`:`${l}/[${W.Ek}]/[vanityOrId]/mediaviewer/[img]`,r=e.vanitySubType&&e.vanityType?`${l}/${e.vanityType}/${e.vanitySubType}/${e.listId}/mediaviewer/${n}/${t&&`?${t}`}`:`${l}/${e.vanityType??e.type}/${e.listId}/mediaviewer/${n}/${t&&`?${t}`}`),{url:a,path:r}},eb=`${G.lP.MEDIA_VIEWER}_${G.Cd.ADS}`,ew=G.lP.MEDIA_VIEWER,ey=(e,t)=>{let i=W.k6[e];return`${t?eb:ew}_${i}`},eD=e=>{var t;return Math.abs(e)===W.ve||0==((Math.abs(e)-W.ve)%(t=W.gG)+t)%t},eM=e=>{var t;return 0==((Math.abs(e)-W.ve)%(t=W.HP)+t)%t};(s=o||(o={})).INITIALIZE="INITIALIZE",s.PAGE_LEFT="page-left",s.PAGE_RIGHT="page-right",s.GOTO_IMAGE_ID="goto-image-id",s.UPDATE_DISTANCE="update-distance",s.UPDATE_UNSEEN_INTERSTITIAL_AVAILABLE="UPDATE_UNSEEN_INTERSTITIAL_AVAILABLE",s.FETCH_IMAGES="FETCH-IMAGES",s.FETCH_IMAGES_PENDING="FETCH-IMAGES-PENDING",s.FETCH_IMAGES_DONE="FETCH-IMAGES-DONE",s.FETCH_IMAGES_FAILED="FETCH-IMAGES-FAILED",s.SHOW_EDIT_DRAWER="SHOW-EDIT-DRAWER",s.HIDE_EDIT_DRAWER="HIDE-EDIT-DRAWER",s.SHOW_REPORT_DRAWER="SHOW-REPORT-DRAWER",s.HIDE_REPORT_DRAWER="HIDE-REPORT-DRAWER",s.SHOW_BOTTOM_SHEET="SHOW-BOTTOM-SHEET",s.HIDE_BOTTOM_SHEET="HIDE-BOTTOM-SHEET",s.SHOW_PAGER="SHOW-PAGER",s.HIDE_PAGER="HIDE-PAGER",s.SET_MOUSE_TIMEOUT_ID="SET-MOUSE-TIMEOUT-ID",s.SET_LAST_TIME_MOUSE_MOVED="SET-LAST-TIME-MOUSE-MOVED";let eL=(0,m.createLogger)()("useMediaViewerState"),e_={initialize:(e,t)=>(i,a)=>{let{initialImageId:r,type:s,listId:o}=a();t||(i(r?e_.fetchImageBatch({direction:"init",jumpTo:r,requestContext:e}):e_.fetchImageBatch({direction:"init",position:0,requestContext:e})),i({type:"INITIALIZE",payload:{setState:{position:0,type:s,listId:o,initialImageId:r,enablePagers:!0}}}))},gotoImageId:(e,t)=>(i,a)=>{let r=Object.values(a().media).find(t=>t.node.id===e);i(r?{type:"goto-image-id",payload:{position:r.position}}:e_.fetchImageBatch({direction:"init",jumpTo:e,requestContext:t}))},fetchImageBatch:e=>(t,i)=>{let{requestContext:a,direction:r,position:s,jumpTo:o}=e,n=i(),{type:l,listId:d,media:E,isUserLoggedIn:I}=n,{fetchPositions:u,args:T}=ef(r,d,s,E[n.position]?.cursor,o,n.totalImages),g=l===eE.b.LIST,{publicRuntimeConfig:p}=c()();t({type:"FETCH-IMAGES-PENDING",payload:{fetchPositions:u,setState:{initiallyLoading:0===u.length&&!s}}}),Promise.all([!!T.main&&n.gqlClient.query((0,W.s)(l),T.main,{url:p.graphQLEndpoint,serverSideCacheable:!(g&&I)}).toPromise().then(e=>{let s=eS(l,d,e.data,a);if(s.images.length<1){let e="mediaviewer queryData image was empty";throw eL.error(e,{type:i().type,id:i().listId}),Error(e)}t({type:"FETCH-IMAGES-DONE",payload:{direction:r,fetchPositions:u,fetchResult:s}})}).catch(e=>{eL.error("mediaviewer query resulted in error",{type:i().type,id:i().listId,error:e}),t({type:"FETCH-IMAGES-FAILED",payload:{fetchPositions:u,setState:{initiallyLoading:!1},fetchError:e}})})].filter(Boolean))},page:(e,t)=>(i,a)=>{let r,s,o;let n=a(),l={left:-1,right:1,load_left:-4,load_right:4},d=n.pageDirection;if(n.loading[n.position]&&!n.showInterstitial||!n.enablePagers)return;let E=n.showInterstitial;eD(a().distance)&&(a().unseenInterstitialAvailable=!1),eM(a().distance)&&n.adHandlers?.updateBannerAd(),i(e_.updateDistance(l[e])),i(e_.stageInterstitialAd());let c=a().showInterstitial,I=E&&d!==e,T=c||I?a().position:a().position+l[e],g=a().position+l[`load_${e}`],p={type:n.type,subType:u.SubPageType.MEDIA_SINGLE,id:n.listId};switch(e){case"left":s=T<=0?a().totalImages:T,r=g<=0?1:s===a().totalImages?a().totalImages:g,o="page-left";break;case"right":s=T>n.totalImages?1:T,r=g>n.totalImages?a().totalImages:1===s?1:g,o="page-right"}n.media[s]||(r=s),n.media[r]||n.errors[r]||n.loading[r]||i(e_.fetchImageBatch({direction:e,position:s,requestContext:t}));let m=ey(e,E);a().showInterstitial?(0,el.K8)(m,p,`mvi-${o}`,ed.qB.ACTION_ONLY):(0,el.K8)(m,p,`mv-${o}`,ed.qB.PAGE_HIT),i({type:o,payload:{position:s,refTag:m}})},updateDistance:e=>(t,i)=>{t({type:"update-distance",payload:{distance:i().distance+e}})},stageInterstitialAd:()=>async(e,t)=>{if(!t().unseenInterstitialAvailable){let i=await t().adHandlers?.updateInterstitialAd(),a=!(0,eo.Wd)(i?.slotsMap?.[T.A.INTERSTITIAL]);e({type:"UPDATE_UNSEEN_INTERSTITIAL_AVAILABLE",payload:{unseenInterstitialAvailable:a}}),eD(t().distance)&&(t().showInterstitial=a)}},showEdit:()=>({type:"SHOW-EDIT-DRAWER"}),hideEdit:()=>({type:"HIDE-EDIT-DRAWER"}),showReport:()=>({type:"SHOW-REPORT-DRAWER"}),hideReport:()=>({type:"HIDE-REPORT-DRAWER"}),showBottomSheet:()=>({type:"SHOW-BOTTOM-SHEET"}),hideBottomSheet:()=>({type:"HIDE-BOTTOM-SHEET"}),showPager:()=>({type:"SHOW-PAGER"}),hidePager:()=>({type:"HIDE-PAGER"}),setMouseTimeoutId:e=>t=>{t({type:"SET-MOUSE-TIMEOUT-ID",payload:{mouseTimeoutId:e}})},setLastTimeMouseMoved:e=>t=>{t({type:"SET-LAST-TIME-MOUSE-MOVED",payload:{lastTimeMouseMoved:e}})}},eO=function(e,t){let i,{type:a,payload:r}=t;switch(a){case"INITIALIZE":i={...e,...r?.setState};break;case"FETCH-IMAGES-PENDING":{let{fetchPositions:t}=r,a={...e.loading},s={...e.media};t.forEach(e=>{s[e]||(a[e]=!0)}),i={...e,loading:a,...r?.setState};break}case"FETCH-IMAGES-DONE":{let{fetchResult:t,fetchPositions:a,direction:s}=r,o={...e.media},n={...e.loading};t.images.forEach(e=>{if(o[e.position]||(o[e.position]=e,n[e.position]=!1),(0,R.getIsBrowser)()){let t=new Image;t.srcset=(0,en.gA)(e.node,!0),t.src=e.node.url}}),a?.forEach(e=>{n[e]=!1});let l="init"===s?t.images?.[0]?.position:eN(e.position,n,o,s,t);i={...e,initiallyLoading:!1,position:l,media:o,loading:n,listTitle:t.title,totalImages:t.total,enablePagers:t.total>1,galleryUrl:t.galleryUrl};break}case"FETCH-IMAGES-FAILED":{let{fetchPositions:t,fetchError:a}=r,s={...e.loading},o={...e.errors},n={...e.media};t.forEach(e=>{s[e]=!1,n[e]||(o[e]=a)}),i={...e,...r?.setState,errors:o,loading:s};break}case"page-left":case"page-right":case"goto-image-id":i={...e,position:r.position,refTag:r.refTag};break;case"update-distance":{let t=r?.distance??0,a=e.distance>t?"left":"right",s=eD(t)&&e.unseenInterstitialAvailable,o=eD(t-1),n=eD(t+1);i={...e,distance:r.distance,showInterstitial:s,prevIsInterstitial:o,nextIsInterstitial:n,pageDirection:a};break}case"UPDATE_UNSEEN_INTERSTITIAL_AVAILABLE":{let{unseenInterstitialAvailable:t}=r;i={...e,unseenInterstitialAvailable:t};break}case"SHOW-EDIT-DRAWER":i={...e,showEditDrawer:!0,showReportDrawer:!1};break;case"HIDE-EDIT-DRAWER":i={...e,showEditDrawer:!1};break;case"SHOW-REPORT-DRAWER":i={...e,showReportDrawer:!0,showEditDrawer:!1};break;case"HIDE-REPORT-DRAWER":i={...e,showReportDrawer:!1};break;case"SHOW-BOTTOM-SHEET":i={...e,showBottomSheet:!0};break;case"HIDE-BOTTOM-SHEET":i={...e,showBottomSheet:!1};break;case"SHOW-PAGER":i={...e,pagerVisibility:!0};break;case"HIDE-PAGER":i={...e,pagerVisibility:!1};break;case"SET-MOUSE-TIMEOUT-ID":i={...e,mouseTimeoutId:r.mouseTimeoutId};break;case"SET-LAST-TIME-MOUSE-MOVED":i={...e,lastTimeMouseMoved:r.lastTimeMouseMoved};break;default:throw Error("No reducer defined for type: "+a)}return eL.debug("reduced",a,"to new state",i,"payload",r),i},ev=(e,t,i,a,r,s,o,n,l)=>{let d=(0,es.m8)(),E=(0,ei.useRouter)(),c=(0,N.B)().context,[u,T]=(0,I.useState)(!0),g={type:e,listId:t,initialImageId:i,vanitySubType:r,vanityType:a,refTag:s,gqlClient:d,media:{},errors:{},loading:{},distance:0,showEditDrawer:!1,showReportDrawer:!1,showBottomSheet:!0,pagerVisibility:!0,mouseTimeoutId:0,lastTimeMouseMoved:new Date,enablePagers:!0,pageDirection:"init",adHandlers:o,isUserLoggedIn:n,adBannerCleared:!1,unseenInterstitialAvailable:!1,showInterstitial:!1,prevIsInterstitial:!1,nextIsInterstitial:!1,initiallyLoading:!1};l&&(g=eO(g,{type:"FETCH-IMAGES-DONE",payload:{direction:g.pageDirection,fetchResult:l,fetchPositions:l.images?.map(e=>e.position)}}));let p=er()(eO,g),m=p[0],h=p[1],A={pageLeft:()=>h(e_.page("left",c)),pageRight:()=>h(e_.page("right",c)),showEdit:()=>h(e_.showEdit()),hideEdit:()=>h(e_.hideEdit()),showReport:()=>h(e_.showReport()),hideReport:()=>h(e_.hideReport()),showBottomSheet:()=>h(e_.showBottomSheet()),hideBottomSheet:()=>h(e_.hideBottomSheet()),gotoImageId:e=>h(e_.gotoImageId(e,c)),showPager:()=>h(e_.showPager()),hidePager:()=>h(e_.hidePager()),setMouseTimeoutId:e=>h(e_.setMouseTimeoutId(e)),setLastTimeMouseMoved:e=>h(e_.setLastTimeMouseMoved(e))},S=e=>{(0,et.isRightArrowKey)(e)?A.pageRight():(0,et.isLeftArrowKey)(e)&&A.pageLeft()};(0,I.useEffect)(()=>(window.addEventListener("keydown",S),()=>{window.removeEventListener("keydown",S)}),[]);let f=(0,I.useRef)(void 0),b=(0,I.useRef)(!1);return(0,I.useEffect)(()=>{let{url:e,path:t}=eR(m,eu((0,R.getIsBrowser)(),u),c),i=m.position||0,a=m.media&&m.media[i],r=a?.node.id,s=f.current;if(s&&i!==s&&a&&e){if(f.current=m.position,!r)return;if(!b.current){b.current=!0;return}E.replace(e,t,{shallow:!0,imageId:r})}else 0>window.location.href.indexOf(r)&&e&&E.replace(e,t,{shallow:!0,imageId:r})},[m.position,m.media]),(0,I.useEffect)(()=>{h(e_.initialize(c,l)),T(!1)},[]),(0,I.useDebugValue)(m),{state:m,actions:A}},eN=(e,t,i,a,r)=>{let s=e,o="left"===a;if(void 0!==s&&!t[s]&&!i[s]){if(r.images.length){let e=o?r.images.length-1:0;s=r.images[e].position}else{let e=Object.keys(i).sort();e.length&&(o&&e.reverse(),s=e.reduce((e,t)=>{let i=e,a=Number(t);return void 0===i?i=a:s&&(o&&a<s&&i>s?i=a:a>s&&i<s&&(i=a)),i},void 0))}}return s},eC=e=>{let{type:t,listId:i,imgId:s,vanityType:o,vanitySubType:l,refTag:d,adHandlers:E,initialQueryData:c,initialQueryError:u}=e,g=(0,P.n)(),p=(0,C.Z)(),m=(0,N.B)().context,{state:h,actions:A}=ev(t,i,s,o,l,d,E,g,c?eS(t,i,c,m):void 0),S=`${$.l8}${m.requestPath?.split("?")[0]??""}`,x=(0,H.z)(S),{showInterstitial:k,errors:B,position:G,loading:j,media:U,totalImages:F,initiallyLoading:K}=h,[q,z]=(0,I.useState)(0),et=(0,I.useRef)(null),ei=B[G],ea=U[G]?.node,er=U[G-1]?.node,es=U[G+1]?.node,eo=U[G]?.position,en=j[G]||K,el=U[G]?.node.correctionLink?.url,ed=U[G]?.node.reportingLink?.url,eE={countLabel:(0,v.N)(W.KL.countLabel,{position:eo,total:F}),previousImageLabel:(0,v.N)(W.KL.previousImageLabel),nextImageLabel:(0,v.N)(W.KL.nextImageLabel),closePromptLabel:(0,v.N)(W.KL.closePromptLabel)},ec=(0,b.useSwipeable)({onSwipedLeft:e=>{ee(-e.deltaX,e=>z(e),A.pageRight)},onSwipedRight:e=>{ee(-e.deltaX,e=>z(e),A.pageLeft)},onSwiping:e=>{var t,i;t=-e.deltaX,i=e=>z(e),a?r=()=>{i(Q(t))}:(i(Q(t)),a=setTimeout(()=>{r&&r(),J()},X))},onSwiped:()=>{var e;e=e=>z(e),J(),setTimeout(()=>e(0),X)}});function eI(e){let t=document.getElementsByClassName(e);return!!(t.length>0&&t[0].matches(":hover"))}function eu(){return!(0,R.getIsNode)()&&(0,f.getIsMdot)(window.location.hostname)}function eT(){if(en||eu())return;let e=eI(W.$C.PAGE_LEFT),t=eI(W.$C.PAGE_RIGHT);e||t||A.hidePager()}if((0,I.useEffect)(()=>{eu()&&A.showPager()},[]),(0,I.useEffect)(()=>{A.setMouseTimeoutId(setTimeout(eT,5e3))},[]),(0,I.useEffect)(()=>{k&&clearTimeout(h.mouseTimeoutId)},[k]),ei||u)return(0,n.jsx)(Y.Bc,{});let eg={image:ea||void 0,title:h.listTitle,description:ea?.caption?.plainText||h.listTitle,openGraphData:{type:M.s.Website},canonicalUrl:S,hrefLangEntries:x};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(D.Se,{...eg}),(0,n.jsx)(_.Z,{}),(0,n.jsx)(b.PageContentContainer,{children:(0,n.jsx)(Z,{state:h,imagePosition:eo})}),(0,n.jsxs)(Y.zb,{"data-testid":W.$C.PARENT,className:W.$C.PARENT,children:[(0,n.jsx)(Y.GX,{...ec,onMouseMove:()=>{h.pagerVisibility||A.showPager(),+new Date().getTime()-h.lastTimeMouseMoved.getTime()>400&&(clearTimeout(h.mouseTimeoutId),A.setLastTimeMouseMoved(new Date),A.setMouseTimeoutId(setTimeout(eT,2e3)))},"data-testid":W.$C.TOUCH_HANDLER,onClick:e=>{k?V(e,et.current,"ad-interstitial"):h.showBottomSheet?A.hideBottomSheet():A.showBottomSheet()},children:(0,n.jsx)(Y.D5,{})}),h.enablePagers&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Y.f$,{isVisible:!en&&h.pagerVisibility,direction:"left",onSelect:A.pageLeft,className:W.$C.PAGE_LEFT,ariaLabel:eE.previousImageLabel}),(0,n.jsx)(Y.ed,{isVisible:!en&&h.pagerVisibility,direction:"right",onSelect:A.pageRight,className:W.$C.PAGE_RIGHT,ariaLabel:eE.nextImageLabel})]}),en&&!k&&(0,n.jsx)(Y.zL,{"data-testid":W.$C.LOADER,children:(0,n.jsx)(b.Loader,{})}),k&&(0,n.jsx)(Y.C1,{offset:q,ref:et,isMdot:eu(),children:(0,n.jsx)(O.ZP,{name:T.A.INTERSTITIAL})}),!h.showInterstitial&&!ei&&!u&&!en&&ea&&(0,n.jsx)(y.Z,{image:ea,"data-testid":W.$C.IMAGE,offset:q,prevImage:h.prevIsInterstitial?void 0:er,nextImage:h.nextIsInterstitial?void 0:es},"image-"+ea.id),!h.showInterstitial&&!ei&&!en&&ea&&(0,n.jsx)(L.V,{className:W.$C.MEDIA_SHEET,imageData:ea,content:{contextTitle:`${h.listTitle}`,contextCount:eE.countLabel},editFlow:el&&p?{desktopLink:el,desktopOnOpen:()=>A.showEdit(),resolveMobileURL:e=>e.correctionLink.url}:void 0,reportFlow:ed&&p?{desktopLink:ed,desktopOnOpen:()=>A.showReport(),resolveMobileURL:e=>e.reportingLink.url}:void 0,listId:i,isClosed:!h.showBottomSheet,onCloseClicked:A.hideBottomSheet,onOpenClicked:A.showBottomSheet}),(0,n.jsx)(b.Drawer,{"data-testid":"mv-contribute-edit-drawer",className:W.$C.CONTRIBUTE_EDIT_DRAWER,isOpen:h.showEditDrawer,onCloseClicked:A.hideEdit,closePromptLabel:eE.closePromptLabel,children:ea&&(0,n.jsx)(w.o,{src:el,onCloseMeCallback:A.hideEdit,className:W.$C.CONTRIBUTE_EDIT_IFRAME})}),(0,n.jsx)(b.Drawer,{className:W.$C.CONTRIBUTE_REPORT_DRAWER,isOpen:h.showReportDrawer,onCloseClicked:A.hideReport,children:ea&&(0,n.jsx)(w.o,{src:ed,onCloseMeCallback:A.hideReport,className:W.$C.CONTRIBUTE_REPORT_IFRAME})})]})]})};var eP=i(42644),eH=i(42951),e$=i(65022),ex=!0,ek=e=>{let{type:t,id:i,vanityType:a,vanitySubType:r,refTag:s,validImageId:o,initialQueryData:E,initialQueryError:I}=e,p=(0,eP.D)();return p.clientSideUrl=(0,S.$l)(c()().publicRuntimeConfig.adsPublicSiteHost,(0,d.isDevNodeEnv)(),p.clientSideUrl),(0,n.jsx)(g.ZP,{children:(0,n.jsxs)(e$.Z,{hideNav:!0,hideFooter:!0,hideNavigationProgressBar:!0,baseColor:"baseAlt",orientContent:"full",cti:u.CTIS.GALLERIES_CTI,children:[(0,n.jsx)(eC,{type:t,listId:i,imgId:o,vanityType:a,vanitySubType:r,refTag:s,adHandlers:{updateBannerAd:async()=>{let e=JSON.parse(JSON.stringify(p));delete e.slotSizeMap[T.A.INTERSTITIAL],await A(e)},updateInterstitialAd:async()=>{if(p.isAbpEnabled)return;let e=JSON.parse(JSON.stringify(p));return delete e.slotSizeMap[T.A.MEDIAVIEWER_BANNER],A(e)}},initialQueryData:E,initialQueryError:I}),(0,eH.YN)(),(0,n.jsx)(l.CSAPageATFScript,{})]})})}}}]);