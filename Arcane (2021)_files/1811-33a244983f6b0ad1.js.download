"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1811],{3250:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(52322),a=n(67353),o=n(2784),i=n(45103),s=n(56812),l=n(28827),c=n(52817),u=n(69635);let d=e=>{let{breakpoint:t,isLoggedIn:n,largeBreakpointAction:r,refTagForLoginRedirect:a,smallBreakpointAction:o}=e,i=t.l||t.xl;return e=>{e.preventDefault(),i?n?r(e):(0,u.r)(a):o(e)}};var h=e=>{let{contributeButton:t,contributeUrl:n,iframeClassName:u,smallBreakpointAction:h}=e,[m,p]=(0,o.useState)(!1),f=()=>p(!1),b=(0,c.n)(),g=(0,i.useBreakpointsAsConfig)(),w=e=>{e.stopPropagation()},_=d({isLoggedIn:b,breakpoint:g,smallBreakpointAction:h,largeBreakpointAction:e=>{e.stopPropagation(),e.preventDefault(),p(!0)}}),k=o.cloneElement(t,{"data-testid":"edit-action-button",href:n,onClick:_,onKeyDown:e=>{(0,a.isEnterOrSpaceKey)(e)&&_(e)}}),x=(0,l.N)({id:"common_ariaLabel_closePrompt",defaultMessage:"Close Prompt"});return(0,r.jsxs)(r.Fragment,{children:[k,m&&(0,r.jsx)("div",{onClick:w,onMouseLeave:w,"data-testid":"contribute-iframe-drawer-container",children:(0,r.jsx)(i.Drawer,{isOpen:m,onCloseClicked:f,side:"right",closePromptLabel:x,children:(0,r.jsx)(s.o,{src:n,onCloseMeCallback:f,className:u,"data-testid":"contribute-iframe"})})})]})}},56812:function(e,t,n){n.d(t,{o:function(){return c}});var r=n(52322),a=n(72779),o=n.n(a),i=n(2784),s=n(19596),l=n(80218);let c=e=>{let t=i.useRef(),n=()=>{t.current?.contentWindow?.location.href===(0,l.Pj)()&&e.onCloseMeCallback()};return i.useEffect(()=>(t.current?.addEventListener("load",n),()=>{t.current?.removeEventListener("load",n)}),[]),(0,r.jsx)(u,{"data-testid":"contribute-iframe",ref:t,src:e.src,className:o()(e.className)})},u=s.default.iframe.withConfig({componentId:"sc-cb131bbd-0"})(["height:calc(100vh - 6rem);width:100%;position:absolute;overflow-y:scroll;"])},80218:function(e,t,n){n.d(t,{OX:function(){return i},Pj:function(){return l},ix:function(){return c},nQ:function(){return o},zq:function(){return u}});var r,a,o,i,s=n(11778);let l=()=>(0,s.isDevStage)()||(0,s.isLocalStage)()?"https://www.dev.imdb.com/close_me":(0,s.isGammaStage)()?"https://www.preprod.imdb.com/close_me":"https://www.imdb.com/close_me",c="consumer";(r=o||(o={})).FAQ="faq",r.IMAGE="image",r.PARENTAL_GUIDE="parentalGuide",r.REVIEW="review",(a=i||(i={})).ADD="add",a.EDIT="edit",a.REPORT="report";let u={open:"contrib-modal-open",close:"contrib-modal-close"}},41119:function(e,t,n){n.d(t,{Tz:function(){return en},ZP:function(){return er}});var r=n(52322),a=n(72779),o=n.n(a),i=n(2784),s=n(45103),l=n(28827),c=n(58605),u=n(27261),d=n(98046),h=n(45603),m=n(78270),p=n(25673);let f={id:"shareMenu_ariaLabel_shareOnSocialMedia",defaultMessage:"Share on social media"},b={id:"shareMenu_shareText_checkoutThisLink",defaultMessage:"Check out this link on IMDb!"},g={id:"shareMenu_copyLink",defaultMessage:"Copy link"},w={id:"shareMenu_emailLink",defaultMessage:"Email link"},_={id:"shareMenu_sharePage",defaultMessage:"Share page"},k={id:"shareMenu_shareFailed",defaultMessage:"Share failed. Please try again later."},x=e=>"string"==typeof e?e:(0,l.N)(e);var N=n(71291),I=n(14865),v=n(67353),y=n(72282),P=n.n(y),S=n(19596),L=n(72814),E=n(11817),C=n(51442),j=n(3250),A=n(80218),T=n(64846),M=n.n(T);let D="ref_",R="ext_shr_lnk",U=(e,t,n,r)=>({shareLabelText:e,shareLinkUrl:t,shareIconName:n,shareLinkTarget:r}),B=e=>{let[t,n]=e.split("?"),r={};if(n)for(let e of n.split("&")){let[t,n]=e.split("=");r[t]=n}return[t,r]},O=(e,t)=>{let n=encodeURIComponent(x(t.emailSubject)),r=encodeURIComponent(x(t.shareBody)),[a,o]=B(decodeURIComponent(e)),i=encodeURIComponent(a+"?"+new URLSearchParams({...o,[D]:"ext_shr_fb"}).toString()),s=encodeURIComponent(a+"?"+new URLSearchParams({...o,[D]:"ext_shr_tw"}).toString()),l=encodeURIComponent(a+"?"+new URLSearchParams({...o,[D]:"ext_shr_em"}).toString()),c=`https://twitter.com/intent/tweet?text=${r} - ${s}`,u=`mailto:?subject=${n}&body=${r} - ${l}`;return[U("Facebook",`https://www.facebook.com/sharer.php?u=${i}`,"facebook","_blank"),U("Twitter",c,"twitter","_blank"),U(w,u,"email","_blank"),U(g,a+"?"+new URLSearchParams({...o,[D]:R}).toString(),"link","_copy")]},$=e=>{let[t,n]=B(e);return t+"?"+new URLSearchParams({...n,[D]:R}).toString()},H=e=>[U(_,$(e),"share","_blank")],K=(e,t)=>{let n=$(F(t));(0,h.It)(window.navigator,{url:n},e)},F=e=>{if(I.isNode)throw Error("not supported from node");let t=e??window.location.href,n=new(M())(t,window.location,!0),r=n.query;return delete r.ref_,n.set("query",n.query),n.host||n.set("host",window.location.host),n.toString()};function q(e){return!!e&&e.length>0}let V={email:"share-em",facebook:"share-fb",twitter:"share-tw",link:"share-lnk"},Z={email:"share_em",facebook:"share_fb",twitter:"share_tw",link:"share_lnk"},z="link",X=S.default.div.withConfig({componentId:"sc-940a44b0-0"})(["cursor:pointer;"]);var G=e=>{let{pageType:t,subPageType:n,pageConst:a}=(0,c.y)(),{value:i}=(0,L.Lz)(),{sendSnack:f}=(0,s.useSnackbar)(),b=(0,p.hg)({weblabID:m.lh.IMDB_NEXT_EXPERIMENT_NATIVE_SHARE_IN_SHARE_BUTTON_993877,treatments:{T1:!0}}),g=(0,l.N)({id:"common_linkCopied",defaultMessage:"Link copied"}),w=(0,l.N)(k);if(I.isNode)return null;let _=r=>o=>{o.stopPropagation(),(0,E.P)(V[r.shareIconName]),(0,u.K8)(`${i}_${Z[r.shareIconName]}`,{type:t,subType:n,id:a},V[r.shareIconName],d.qB.ACTION_ONLY),e.interactionHandler(r.shareLinkUrl)&&o.preventDefault(),r.shareIconName===z&&f({primaryText:g,type:"auto"})},N=t=>n=>{n.stopPropagation(),K(y,t.shareLinkUrl),e.interactionHandler(t.shareLinkUrl)&&n.preventDefault()},y=e=>{e?.name!=="AbortError"&&f({primaryText:w,baseColor:"accent3",type:"auto"})},S=e=>(0,r.jsx)(s.ListItem,{preIconName:e.shareIconName,target:e.shareLinkTarget,className:o()(["sharemenu-listitem","sharemenu-nativeshare"]),onClick:t=>t&&N(e)(t),onKeyDown:t=>t&&(0,v.isEnterOrSpaceKey)(t)&&N(e)(t),children:x(e.shareLabelText)},e.shareIconName),T=e=>(0,r.jsx)(P(),{text:e.shareLinkUrl,options:{format:"text/plain"},children:(0,r.jsx)(s.ListItem,{className:o()(["sharemenu-listitem","sharemenu-copylink"]),preIconName:z,onClick:t=>t&&_(e)(t),onKeyDown:t=>t&&(0,v.isEnterOrSpaceKey)(t)&&_(e)(t),children:x(e.shareLabelText)})},"copy-to-clipboard"),M=e=>(0,r.jsx)(s.ListItem,{preIconName:e.shareIconName,href:e.shareLinkUrl,target:e.shareLinkTarget,className:"sharemenu-listitem",onClick:t=>t&&_(e)(t),onKeyDown:t=>t&&(0,v.isEnterOrSpaceKey)(t)&&_(e)(t),children:x(e.shareLabelText)},e.shareIconName),D=F(e.url),R=e.shareProps?.suppressDefaultActions?[]:(0,h.v_)(window.navigator)&&b?H(D).map(e=>S(e)):O(D,e.shareProps).map(e=>"_copy"===e.shareLinkTarget?T(e):M(e)),U=(e,t,n)=>{let a=e.linkUrl,i={contributeButton:(0,r.jsx)(X,{onMouseLeave:e=>e.stopPropagation(),"data-testid":"extra-contribute-action-"+t,children:(0,r.jsx)(s.ListItem,{className:o()([e.className,"sharemenu-listitem"]),preIconName:e.iconName,postIconName:e.postIconName,children:x(e.label)},e.iconName+"-"+n)}),contributeUrl:(0,C.oq)(a,(0,A.Pj)(),!0),iframeClassName:"contribute-extra-action-"+t,smallBreakpointAction:()=>{window.open((0,C.oq)(a,window.location.href,!0),"_self")}};return(0,r.jsx)(j.Z,{...i},n)},B=(t,n)=>{let a=t.linkUrl;return(0,r.jsx)(s.ListItem,{className:o()([t.className,"sharemenu-listitem"]),preIconName:t.iconName,postIconName:t.postIconName,href:a,target:t.linkTarget,onClick:n=>{if(t.onSelect)t.onSelect(n);else{n.stopPropagation();let r=!1;t.handler&&t.handler(a)&&(r=!0),e.interactionHandler(a)&&(r=!0),r&&n.preventDefault()}},onKeyDown:e=>{(0,v.isEnterOrSpaceKey)(e)&&t.onSelect&&t.onSelect(e)},"data-testid":t.testId,children:x(t.label)},t.iconName+"-"+n)};if(q(e.shareProps.extraActions)){let t=e.shareProps.extraActionsFirst?function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return R.unshift(...t)}:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return R.push(...t)};t((0,r.jsx)(s.ListDivider,{},"divider"));let n=0,a=[];e.shareProps.extraActions?.forEach((e,t)=>{e.isContributionAction?(n+=1,a.push(U(e,n,t))):a.push(B(e,t))}),t(...a)}return(0,r.jsx)(s.List,{"data-testid":"share-menu-list",className:"sharemenu-list",children:R})};let Q=e=>(0,r.jsx)(s.BottomSheet,{isOpen:e.menuVisibility,onCloseClicked:()=>e.interactionHandler(),"data-testid":"share-bottom-sheet",closePromptLabel:(0,l.N)({id:"common_ariaLabel_closePrompt",defaultMessage:"Close Prompt"}),children:(0,r.jsx)(G,{...e})});var W=n(7523),Y=n(73155);let J=e=>{let t=()=>e.interactionHandler();return(0,i.useEffect)(()=>(window.addEventListener("click",t),()=>window.removeEventListener("click",t)),[]),(0,r.jsx)(Y.l,{onMouseLeave:t,"data-testid":"share-container",children:(0,r.jsx)(s.SetPalette,{palette:"dark",children:(0,r.jsx)(s.Menu,{menuID:"media-details-share-button",isVisible:e.menuVisibility,mode:"anchored",children:(0,r.jsx)(W.Y,{onClickOutside:t,onEscapeKey:t,children:(0,r.jsx)(G,{...e})})})})})},ee=e=>{let t=(0,s.useBreakpointsAsConfig)(),n=t.s||t.xs,a=e.forceBottomSheet||n;return(0,r.jsx)(N.Z,{children:(0,r.jsx)(a?Q:J,{...e})})},et=e=>({shareBody:e?.shareBody??b,emailSubject:e?.emailSubject??b,label:e?.label??f,extraActions:e?.extraActions,suppressDefaultActions:e?.suppressDefaultActions,extraActionsFirst:e?.extraActionsFirst}),en=e=>{let[t,n]=(0,i.useState)(!1),{pageType:a,pageConst:f,subPageType:b}=(0,c.y)(),{sendSnack:g}=(0,s.useSnackbar)(),w=(0,p.hg)({weblabID:m.lh.IMDB_NEXT_EXPERIMENT_NATIVE_SHARE_IN_SHARE_BUTTON_993877,treatments:{T1:!0}}),_=(0,l.N)(k),N=et(e.shareProps),I=e=>{e?.name!=="AbortError"&&g({primaryText:_,baseColor:"accent3",type:"auto"})},v=()=>{n(!t)},y=x(N.label||""),P={shareProps:N,url:e.url,forceBottomSheet:!!e.forceBottomSheet,interactionHandler:t=>(n(!1),!!t&&!!e.shareHandler&&e.shareHandler(t)),menuVisibility:t};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.IconButton,{disabled:e.disabled,name:e.iconButtonName??"share",label:y,onClick:t=>{t.stopPropagation(),function(e,t){let n=`${t}-menu-open`;(0,u.ar)(e,n,d.qB.POP_UP)}({type:a,subType:b,id:f},e.pageActionPrefix),(0,h.v_)(window.navigator)&&!q(e.shareProps?.extraActions)&&w?K(I,e.shareProps?.url):v()},className:o()("sharemenu-iconbutton",e.className),onColor:e.onColor,"data-testid":"share-button"}),(0,r.jsx)(ee,{...P})]})};var er=en},73155:function(e,t,n){n.d(t,{l:function(){return r}});let r=n(19596).default.div.withConfig({componentId:"sc-eece9490-0"})(["position:relative;right:0;top:0;text-align:left;z-index:11;"])},71291:function(e,t,n){var r=n(52322);n(2784);var a=n(11793);t.Z=e=>{let{children:t}=e;return(0,a.Z)()?(0,r.jsx)(r.Fragment,{children:t}):null}},83092:function(e,t,n){n.d(t,{z:function(){return s}});var r=n(5632),a=n(85767),o=n(43541),i=n(51442);let s=e=>{let t=(0,r.useRouter)(),n=(0,a.B)().context;if(!e)return;let o=t?.asPath?.split("?")[0],s=(0,i.PD)(o,n),c=l(s,n),u=`${i.l8}${s}`;return[{language:"x-default",url:u},{language:"en",url:u},...c]},l=(e,t)=>Object.values((0,o.$S)(t)).map(t=>({language:t,url:`${i.l8}/${t}${e}`}))},45603:function(e,t,n){n.d(t,{It:function(){return a.I},v_:function(){return r.v}});var r=n(59027),a=n(29366)},59027:function(e,t,n){n.d(t,{v:function(){return r}});let r=e=>{let t=/Android|webOS|iPhone|iPad|iPod|Opera Mini/i.test(e.userAgent),n=!!e.share,r=!!e.canShare,o=r&&e.canShare(a);return t&&n&&r&&o},a={title:"test",text:"test",url:"imdb.com",files:[new File(["test"],"test.png",{type:"image/png"})]}},29366:function(e,t,n){n.d(t,{I:function(){return r}});let r=async(e,t,n)=>{try{await e.share(t)}catch(e){n(e)}}}}]);